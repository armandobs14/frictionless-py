(window.webpackJsonp=window.webpackJsonp||[]).push([[42],{116:function(e,n,t){"use strict";t.r(n),t.d(n,"frontMatter",(function(){return c})),t.d(n,"metadata",(function(){return l})),t.d(n,"toc",(function(){return m})),t.d(n,"default",(function(){return b}));var r=t(3),a=t(7),s=(t(0),t(161)),i=t(166),o=t(167),p=["components"],c={title:"Transform Steps",prepare:["cp data/transform.csv transform.csv","cp data/transform-groups.csv transform-groups.csv","cp data/transform-pivot.csv transform-pivot.csv"],cleanup:["rm transform.csv","rm transform-groups.csv","rm transform-pivot.csv"]},l={unversionedId:"guides/transform-steps",id:"guides/transform-steps",isDocsHomePage:!1,title:"Transform Steps",description:"This guide assumes basic familiarity with the Frictionless Framework. To learn more, please read the Introduction and Quick Start.",source:"@site/../docs/guides/transform-steps.md",slug:"/guides/transform-steps",permalink:"/docs/guides/transform-steps",editUrl:"https://github.com/frictionlessdata/frictionless-py/edit/main/docs/../docs/guides/transform-steps.md",version:"current",lastUpdatedBy:"Shashi Gharti",lastUpdatedAt:1656342054,formattedLastUpdatedAt:"6/27/2022",sidebar:"guides",previous:{title:"Transform Guide",permalink:"/docs/guides/transform-guide"},next:{title:"Package Guide",permalink:"/docs/guides/framework/package-guide"}},m=[{value:"Resource Steps",id:"resource-steps",children:[{value:"Add Resource",id:"add-resource",children:[]},{value:"Remove Resource",id:"remove-resource",children:[]},{value:"Transform Resource",id:"transform-resource",children:[]},{value:"Update Resource",id:"update-resource",children:[]}]},{value:"Table Steps",id:"table-steps",children:[{value:"Aggregate Table",id:"aggregate-table",children:[]},{value:"Attach Tables",id:"attach-tables",children:[]},{value:"Debug Table",id:"debug-table",children:[]},{value:"Diff Tables",id:"diff-tables",children:[]},{value:"Intersect Tables",id:"intersect-tables",children:[]},{value:"Join Tables",id:"join-tables",children:[]},{value:"Melt Table",id:"melt-table",children:[]},{value:"Merge Tables",id:"merge-tables",children:[]},{value:"Normalize Table",id:"normalize-table",children:[]},{value:"Pivot Table",id:"pivot-table",children:[]},{value:"Print Table",id:"print-table",children:[]},{value:"Recast Table",id:"recast-table",children:[]},{value:"Transpose Table",id:"transpose-table",children:[]},{value:"Validate Table",id:"validate-table",children:[]},{value:"Write Table",id:"write-table",children:[]}]},{value:"Field Steps",id:"field-steps",children:[{value:"Add Field",id:"add-field",children:[]},{value:"Filter Fields",id:"filter-fields",children:[]},{value:"Move Field",id:"move-field",children:[]},{value:"Remove Field",id:"remove-field",children:[]},{value:"Split Field",id:"split-field",children:[]},{value:"Unpack Field",id:"unpack-field",children:[]},{value:"Update Field",id:"update-field",children:[]},{value:"Merge Cells",id:"merge-cells",children:[]},{value:"Pack Cells",id:"pack-cells",children:[]}]},{value:"Row Steps",id:"row-steps",children:[{value:"Filter Rows",id:"filter-rows",children:[]},{value:"Search Rows",id:"search-rows",children:[]},{value:"Slice Rows",id:"slice-rows",children:[]},{value:"Sort Rows",id:"sort-rows",children:[]},{value:"Split Rows",id:"split-rows",children:[]},{value:"Subset Rows",id:"subset-rows",children:[]},{value:"Ungroup Rows",id:"ungroup-rows",children:[]}]},{value:"Cell Steps",id:"cell-steps",children:[{value:"Convert Cells",id:"convert-cells",children:[]},{value:"Fill Cells",id:"fill-cells",children:[]},{value:"Format Cells",id:"format-cells",children:[]},{value:"Interpolate Cells",id:"interpolate-cells",children:[]},{value:"Replace Cells",id:"replace-cells",children:[]},{value:"Set Cells",id:"set-cells",children:[]}]}],u={toc:m};function b(e){var n=e.components,t=Object(a.a)(e,p);return Object(s.b)("wrapper",Object(r.a)({},u,t,{components:n,mdxType:"MDXLayout"}),Object(s.b)("blockquote",null,Object(s.b)("p",{parentName:"blockquote"},"This guide assumes basic familiarity with the Frictionless Framework. To learn more, please read the ",Object(s.b)("a",{parentName:"p",href:"https://framework.frictionlessdata.io/docs/guides/introduction"},"Introduction")," and ",Object(s.b)("a",{parentName:"p",href:"https://framework.frictionlessdata.io/docs/guides/quick-start"},"Quick Start"),".")),Object(s.b)("p",null,"Frictionless includes more than 40+ built-in transform steps. They are grouped by the object so you can find them easily if you have code auto completion. Start typing, for example, ",Object(s.b)("inlineCode",{parentName:"p"},"steps.table...")," and you will see all the available steps. The groups are listed below and you will find every group described in more detail in the next sections. It's also possible to write custom transform steps. Please read the section below to learn more about it.  Let's prepare the data that we need to show how the checks below work:"),Object(s.b)("blockquote",null,Object(s.b)("p",{parentName:"blockquote"},"Download ",Object(s.b)("a",{parentName:"p",href:"https://raw.githubusercontent.com/frictionlessdata/frictionless-py/master/data/transform.csv"},Object(s.b)("inlineCode",{parentName:"a"},"transform.csv")),' to reproduce the examples (right-click and "Save link as").')),Object(s.b)(i.a,{defaultValue:"cli",values:[{label:"CLI",value:"cli"},{label:"Python",value:"python"}],mdxType:"Tabs"},Object(s.b)(o.a,{value:"cli",mdxType:"TabItem"},Object(s.b)("pre",null,Object(s.b)("code",{parentName:"pre",className:"language-bash",metastring:"script",script:!0},"cat transform.csv\n")),Object(s.b)("pre",null,Object(s.b)("code",{parentName:"pre",className:"language-csv",metastring:'title="Data: transform.csv"',title:'"Data:','transform.csv"':!0},"id,name,population\n1,germany,83\n2,france,66\n3,spain,47\n"))),Object(s.b)(o.a,{value:"python",mdxType:"TabItem"},Object(s.b)("pre",null,Object(s.b)("code",{parentName:"pre",className:"language-python",metastring:"script",script:!0},"with open('transform.csv') as file:\n    print(file.read())\n")),Object(s.b)("pre",null,Object(s.b)("code",{parentName:"pre",className:"language-csv",metastring:'title="Data: transform.csv"',title:'"Data:','transform.csv"':!0},"id,name,population\n1,germany,83\n2,france,66\n3,spain,47\n")))),Object(s.b)("blockquote",null,Object(s.b)("p",{parentName:"blockquote"},"Download ",Object(s.b)("a",{parentName:"p",href:"https://raw.githubusercontent.com/frictionlessdata/frictionless-py/master/data/transform-groups.csv"},Object(s.b)("inlineCode",{parentName:"a"},"transform-groups.csv")),' to reproduce the examples (right-click and "Save link as").')),Object(s.b)(i.a,{defaultValue:"cli",values:[{label:"CLI",value:"cli"},{label:"Python",value:"python"}],mdxType:"Tabs"},Object(s.b)(o.a,{value:"cli",mdxType:"TabItem"},Object(s.b)("pre",null,Object(s.b)("code",{parentName:"pre",className:"language-bash",metastring:"script",script:!0},"cat transform-groups.csv\n")),Object(s.b)("pre",null,Object(s.b)("code",{parentName:"pre",className:"language-csv",metastring:'title="Data: transform-groups.csv"',title:'"Data:','transform-groups.csv"':!0},"id,name,population,year\n1,germany,83,2020\n2,germany,77,1920\n3,france,66,2020\n4,france,54,1920\n5,spain,47,2020\n6,spain,33,1920\n"))),Object(s.b)(o.a,{value:"python",mdxType:"TabItem"},Object(s.b)("pre",null,Object(s.b)("code",{parentName:"pre",className:"language-python",metastring:"script",script:!0},"with open('transform-groups.csv') as file:\n    print(file.read())\n")),Object(s.b)("pre",null,Object(s.b)("code",{parentName:"pre",className:"language-csv",metastring:'title="transform-groups.csv"',title:'"transform-groups.csv"'},"id,name,population,year\n1,germany,83,2020\n2,germany,77,1920\n3,france,66,2020\n4,france,54,1920\n5,spain,47,2020\n6,spain,33,1920\n")))),Object(s.b)("blockquote",null,Object(s.b)("p",{parentName:"blockquote"},"Download ",Object(s.b)("a",{parentName:"p",href:"https://raw.githubusercontent.com/frictionlessdata/frictionless-py/master/data/transform-pivot.csv"},Object(s.b)("inlineCode",{parentName:"a"},"transform-pivot.csv")),' to reproduce the examples (right-click and "Save link as").')),Object(s.b)(i.a,{defaultValue:"cli",values:[{label:"CLI",value:"cli"},{label:"Python",value:"python"}],mdxType:"Tabs"},Object(s.b)(o.a,{value:"cli",mdxType:"TabItem"},Object(s.b)("pre",null,Object(s.b)("code",{parentName:"pre",className:"language-bash",metastring:"script",script:!0},"cat transform-pivot.csv\n")),Object(s.b)("pre",null,Object(s.b)("code",{parentName:"pre",className:"language-csv",metastring:'title="Data: transform-pivot.csv"',title:'"Data:','transform-pivot.csv"':!0},"region,gender,style,units\neast,boy,tee,12\neast,boy,golf,14\neast,boy,fancy,7\neast,girl,tee,3\neast,girl,golf,8\neast,girl,fancy,18\nwest,boy,tee,12\nwest,boy,golf,15\nwest,boy,fancy,8\nwest,girl,tee,6\nwest,girl,golf,16\nwest,girl,fancy,1\n"))),Object(s.b)(o.a,{value:"python",mdxType:"TabItem"},Object(s.b)("pre",null,Object(s.b)("code",{parentName:"pre",className:"language-python",metastring:"script",script:!0},"with open('transform-pivot.csv') as file:\n    print(file.read())\n")),Object(s.b)("pre",null,Object(s.b)("code",{parentName:"pre",className:"language-csv",metastring:'title="transform-pivot.csv"',title:'"transform-pivot.csv"'},"region,gender,style,units\neast,boy,tee,12\neast,boy,golf,14\neast,boy,fancy,7\neast,girl,tee,3\neast,girl,golf,8\neast,girl,fancy,18\nwest,boy,tee,12\nwest,boy,golf,15\nwest,boy,fancy,8\nwest,girl,tee,6\nwest,girl,golf,16\nwest,girl,fancy,1\n")))),Object(s.b)("h2",{id:"resource-steps"},"Resource Steps"),Object(s.b)("p",null,"The Resource steps are only available for a package transformation. This includes some basic resource management operations like adding or removing resources along with the hierarchical ",Object(s.b)("inlineCode",{parentName:"p"},"transform_resource")," step."),Object(s.b)("h3",{id:"add-resource"},"Add Resource"),Object(s.b)("pre",null,Object(s.b)("code",{parentName:"pre",className:"language-python",metastring:'script title="Python"',script:!0,title:'"Python"'},"from pprint import pprint\nfrom frictionless import Package, Resource, transform, steps\n\nsource = Package(resources=[Resource(name='main', path=\"transform.csv\")])\ntarget = transform(\n    source,\n    steps=[\n        steps.resource_add(name='extra', path='transform.csv'),\n    ],\n)\nprint(target.resource_names)\nprint(target.get_resource('extra').schema)\nprint(target.get_resource('extra').to_view())\n")),Object(s.b)("pre",null,Object(s.b)("code",{parentName:"pre"},"['main', 'extra']\n{'fields': [{'name': 'id', 'type': 'integer'},\n            {'name': 'name', 'type': 'string'},\n            {'name': 'population', 'type': 'integer'}]}\n+----+-----------+------------+\n| id | name      | population |\n+====+===========+============+\n|  1 | 'germany' |         83 |\n+----+-----------+------------+\n|  2 | 'france'  |         66 |\n+----+-----------+------------+\n|  3 | 'spain'   |         47 |\n+----+-----------+------------+\n")),Object(s.b)("h3",{id:"remove-resource"},"Remove Resource"),Object(s.b)("pre",null,Object(s.b)("code",{parentName:"pre",className:"language-python",metastring:'script title="Python"',script:!0,title:'"Python"'},"from pprint import pprint\nfrom frictionless import Package, Resource, transform, steps\n\nsource = Package(resources=[Resource(name='main', path=\"transform.csv\")])\ntarget = transform(\n    source,\n    steps=[\n        steps.resource_remove(name='main'),\n    ],\n)\npprint(target)\n")),Object(s.b)("pre",null,Object(s.b)("code",{parentName:"pre"},"{'profile': 'data-package', 'resources': []}\n")),Object(s.b)("h3",{id:"transform-resource"},"Transform Resource"),Object(s.b)("pre",null,Object(s.b)("code",{parentName:"pre",className:"language-python",metastring:'script title="Python"',script:!0,title:'"Python"'},"from pprint import pprint\nfrom frictionless import Package, Resource, transform, steps\n\nsource = Package(resources=[Resource(name='main', path=\"transform.csv\")])\ntarget = transform(\n    source,\n    steps=[\n        steps.resource_add(name='extra', path='transform.csv'),\n        steps.resource_transform(name='main', steps=[\n            steps.table_merge(resource='extra'),\n            steps.row_sort(field_names=['id'])\n        ]),\n        steps.resource_remove(name=\"extra\"),\n    ],\n)\nprint(target.resource_names)\nprint(target.get_resource('main').schema)\nprint(target.get_resource('main').to_view())\n")),Object(s.b)("pre",null,Object(s.b)("code",{parentName:"pre"},"['main']\n{'fields': [{'name': 'id', 'type': 'integer'},\n            {'name': 'name', 'type': 'string'},\n            {'name': 'population', 'type': 'integer'}]}\n+----+-----------+------------+\n| id | name      | population |\n+====+===========+============+\n|  1 | 'germany' |         83 |\n+----+-----------+------------+\n|  1 | 'germany' |         83 |\n+----+-----------+------------+\n|  2 | 'france'  |         66 |\n+----+-----------+------------+\n|  2 | 'france'  |         66 |\n+----+-----------+------------+\n|  3 | 'spain'   |         47 |\n+----+-----------+------------+\n")),Object(s.b)("h3",{id:"update-resource"},"Update Resource"),Object(s.b)("pre",null,Object(s.b)("code",{parentName:"pre",className:"language-python",metastring:'script title="Python"',script:!0,title:'"Python"'},"from pprint import pprint\nfrom frictionless import Package, Resource, transform, steps\n\nsource = Package(resources=[Resource(name='main', path=\"transform.csv\")])\ntarget = transform(\n    source,\n    steps=[\n        steps.resource_update(name='main', title='Main Resource', description='For the docs'),\n    ],\n)\npprint(target.get_resource('main'))\n")),Object(s.b)("pre",null,Object(s.b)("code",{parentName:"pre"},"{'description': 'For the docs',\n 'encoding': 'utf-8',\n 'format': 'csv',\n 'hashing': 'md5',\n 'name': 'main',\n 'path': 'transform.csv',\n 'profile': 'tabular-data-resource',\n 'schema': {'fields': [{'name': 'id', 'type': 'integer'},\n                       {'name': 'name', 'type': 'string'},\n                       {'name': 'population', 'type': 'integer'}]},\n 'scheme': 'file',\n 'title': 'Main Resource'}\n")),Object(s.b)("h2",{id:"table-steps"},"Table Steps"),Object(s.b)("p",null,"These steps are meant to be used on a table level of a resource. This includes various different operations from simple validation or writing to the disc to complex re-shaping like pivoting or melting."),Object(s.b)("h3",{id:"aggregate-table"},"Aggregate Table"),Object(s.b)("p",null,"Group rows under the given group_name then apply aggregation functions provided as aggregation dictionary (see example)"),Object(s.b)("pre",null,Object(s.b)("code",{parentName:"pre",className:"language-python",metastring:'script title="Python"',script:!0,title:'"Python"'},'from pprint import pprint\nfrom frictionless import Package, Resource, transform, steps\n\nsource = Resource(path="transform-groups.csv")\ntarget = transform(\n    source,\n    steps=[\n        steps.table_normalize(),\n        steps.table_aggregate(\n            group_name="name", aggregation={"sum": ("population", sum)}\n        ),\n    ],\n)\nprint(target.schema)\nprint(target.to_view())\n')),Object(s.b)("pre",null,Object(s.b)("code",{parentName:"pre"},"{'fields': [{'name': 'name', 'type': 'string'}, {'name': 'sum'}]}\n+-----------+-----+\n| name      | sum |\n+===========+=====+\n| 'france'  | 120 |\n+-----------+-----+\n| 'germany' | 160 |\n+-----------+-----+\n| 'spain'   |  80 |\n+-----------+-----+\n")),Object(s.b)("h3",{id:"attach-tables"},"Attach Tables"),Object(s.b)("pre",null,Object(s.b)("code",{parentName:"pre",className:"language-python",metastring:'script title="Python"',script:!0,title:'"Python"'},'from pprint import pprint\nfrom frictionless import Package, Resource, transform, steps\n\nsource = Resource(path="transform.csv")\ntarget = transform(\n    source,\n    steps=[\n      steps.table_attach(resource=Resource(data=[["note"], ["large"], ["mid"]])),\n    ],\n)\nprint(target.schema)\nprint(target.to_view())\n')),Object(s.b)("pre",null,Object(s.b)("code",{parentName:"pre"},"{'fields': [{'name': 'id', 'type': 'integer'},\n            {'name': 'name', 'type': 'string'},\n            {'name': 'population', 'type': 'integer'},\n            {'name': 'note', 'type': 'string'}]}\n+----+-----------+------------+---------+\n| id | name      | population | note    |\n+====+===========+============+=========+\n|  1 | 'germany' |         83 | 'large' |\n+----+-----------+------------+---------+\n|  2 | 'france'  |         66 | 'mid'   |\n+----+-----------+------------+---------+\n|  3 | 'spain'   |         47 | None    |\n+----+-----------+------------+---------+\n\n")),Object(s.b)("h3",{id:"debug-table"},"Debug Table"),Object(s.b)("pre",null,Object(s.b)("code",{parentName:"pre",className:"language-python",metastring:'script title="Python"',script:!0,title:'"Python"'},'from pprint import pprint\nfrom frictionless import Package, Resource, transform, steps\n\nsource = Resource(path="transform.csv")\ntarget = transform(\n    source,\n    steps=[\n      steps.table_debug(function=print),\n    ],\n)\nprint(target.to_view())\n')),Object(s.b)("pre",null,Object(s.b)("code",{parentName:"pre"},"{'id': 1, 'name': 'germany', 'population': 83}\n{'id': 2, 'name': 'france', 'population': 66}\n{'id': 3, 'name': 'spain', 'population': 47}\n+----+-----------+------------+\n| id | name      | population |\n+====+===========+============+\n|  1 | 'germany' |         83 |\n+----+-----------+------------+\n|  2 | 'france'  |         66 |\n+----+-----------+------------+\n|  3 | 'spain'   |         47 |\n+----+-----------+------------+\n")),Object(s.b)("h3",{id:"diff-tables"},"Diff Tables"),Object(s.b)("pre",null,Object(s.b)("code",{parentName:"pre",className:"language-python",metastring:'script title="Python"',script:!0,title:'"Python"'},'from pprint import pprint\nfrom frictionless import Package, Resource, transform, steps\n\nsource = Resource(path="transform.csv")\ntarget = transform(\n    source,\n    steps=[\n        steps.table_normalize(),\n        steps.table_diff(\n            resource=Resource(\n                data=[\n                    ["id", "name", "population"],\n                    [1, "germany", 83],\n                    [2, "france", 50],\n                    [3, "spain", 47],\n                ]\n            )\n        ),\n    ]\n)\nprint(target.schema)\nprint(target.to_view())\n')),Object(s.b)("pre",null,Object(s.b)("code",{parentName:"pre"},"{'fields': [{'name': 'id', 'type': 'integer'},\n            {'name': 'name', 'type': 'string'},\n            {'name': 'population', 'type': 'integer'}]}\n+----+----------+------------+\n| id | name     | population |\n+====+==========+============+\n|  2 | 'france' |         66 |\n+----+----------+------------+\n")),Object(s.b)("h3",{id:"intersect-tables"},"Intersect Tables"),Object(s.b)("pre",null,Object(s.b)("code",{parentName:"pre",className:"language-python",metastring:'script title="Python"',script:!0,title:'"Python"'},'from pprint import pprint\nfrom frictionless import Package, Resource, transform, steps\n\nsource = Resource(path="transform.csv")\ntarget = transform(\n    source,\n    steps=[\n        steps.table_normalize(),\n        steps.table_intersect(\n            resource=Resource(\n                data=[\n                    ["id", "name", "population"],\n                    [1, "germany", 83],\n                    [2, "france", 50],\n                    [3, "spain", 47],\n                ]\n            ),\n        ),\n    ]\n)\nprint(target.schema)\nprint(target.to_view())\n')),Object(s.b)("pre",null,Object(s.b)("code",{parentName:"pre"},"{'fields': [{'name': 'id', 'type': 'integer'},\n            {'name': 'name', 'type': 'string'},\n            {'name': 'population', 'type': 'integer'}]}\n+----+-----------+------------+\n| id | name      | population |\n+====+===========+============+\n|  1 | 'germany' |         83 |\n+----+-----------+------------+\n|  3 | 'spain'   |         47 |\n+----+-----------+------------+\n")),Object(s.b)("h3",{id:"join-tables"},"Join Tables"),Object(s.b)("pre",null,Object(s.b)("code",{parentName:"pre",className:"language-python",metastring:'script title="Python"',script:!0,title:'"Python"'},'from pprint import pprint\nfrom frictionless import Package, Resource, transform, steps\n\nsource = Resource(path="transform.csv")\ntarget = transform(\n    source,\n    steps=[\n        steps.table_normalize(),\n        steps.table_join(\n            resource=Resource(data=[["id", "note"], [1, "beer"], [2, "vine"]]),\n            field_name="id",\n        ),\n    ]\n)\nprint(target.schema)\nprint(target.to_view())\n')),Object(s.b)("pre",null,Object(s.b)("code",{parentName:"pre"},"{'fields': [{'name': 'id', 'type': 'integer'},\n            {'name': 'name', 'type': 'string'},\n            {'name': 'population', 'type': 'integer'},\n            {'name': 'note', 'type': 'string'}]}\n+----+-----------+------------+--------+\n| id | name      | population | note   |\n+====+===========+============+========+\n|  1 | 'germany' |         83 | 'beer' |\n+----+-----------+------------+--------+\n|  2 | 'france'  |         66 | 'vine' |\n+----+-----------+------------+--------+\n")),Object(s.b)("h3",{id:"melt-table"},"Melt Table"),Object(s.b)("pre",null,Object(s.b)("code",{parentName:"pre",className:"language-python",metastring:'script title="Python"',script:!0,title:'"Python"'},'from pprint import pprint\nfrom frictionless import Package, Resource, transform, steps\n\nsource = Resource(path="transform.csv")\ntarget = transform(\n    source,\n    steps=[\n        steps.table_normalize(),\n        steps.table_melt(field_name="name"),\n    ]\n)\nprint(target.schema)\nprint(target.to_view())\n')),Object(s.b)("pre",null,Object(s.b)("code",{parentName:"pre"},"{'fields': [{'name': 'name', 'type': 'string'},\n            {'name': 'variable'},\n            {'name': 'value'}]}\n+-----------+--------------+-------+\n| name      | variable     | value |\n+===========+==============+=======+\n| 'germany' | 'id'         |     1 |\n+-----------+--------------+-------+\n| 'germany' | 'population' |    83 |\n+-----------+--------------+-------+\n| 'france'  | 'id'         |     2 |\n+-----------+--------------+-------+\n| 'france'  | 'population' |    66 |\n+-----------+--------------+-------+\n| 'spain'   | 'id'         |     3 |\n+-----------+--------------+-------+\n")),Object(s.b)("h3",{id:"merge-tables"},"Merge Tables"),Object(s.b)("pre",null,Object(s.b)("code",{parentName:"pre",className:"language-python",metastring:'script title="Python"',script:!0,title:'"Python"'},'from pprint import pprint\nfrom frictionless import Package, Resource, transform, steps\n\nsource = Resource(path="transform.csv")\ntarget = transform(\n    source,\n    steps=[\n        steps.table_merge(\n            resource=Resource(data=[["id", "name", "note"], [4, "malta", "island"]])\n        ),\n    ]\n)\nprint(target.schema)\nprint(target.to_view())\n')),Object(s.b)("pre",null,Object(s.b)("code",{parentName:"pre"},"{'fields': [{'name': 'id', 'type': 'integer'},\n            {'name': 'name', 'type': 'string'},\n            {'name': 'population', 'type': 'integer'},\n            {'name': 'note', 'type': 'string'}]}\n+----+-----------+------------+----------+\n| id | name      | population | note     |\n+====+===========+============+==========+\n|  1 | 'germany' |         83 | None     |\n+----+-----------+------------+----------+\n|  2 | 'france'  |         66 | None     |\n+----+-----------+------------+----------+\n|  3 | 'spain'   |         47 | None     |\n+----+-----------+------------+----------+\n|  4 | 'malta'   | None       | 'island' |\n+----+-----------+------------+----------+\n")),Object(s.b)("h3",{id:"normalize-table"},"Normalize Table"),Object(s.b)("p",null,"The ",Object(s.b)("inlineCode",{parentName:"p"},"table_normalize")," step normalizes an underlaying tabular stream (cast types and fix dimensions) according to a provided or inferred schema. If your data is not really big it's recommended to normalize a table before any others steps."),Object(s.b)("pre",null,Object(s.b)("code",{parentName:"pre",className:"language-python",metastring:'script title="Python"',script:!0,title:'"Python"'},'from pprint import pprint\nfrom frictionless import Package, Resource, transform, steps\n\nsource = Resource("data/table.csv")\ntarget = transform(\n    source,\n    steps=[\n        steps.table_normalize(),\n    ]\n)\nprint(source.to_view())\nprint(target.to_view())\n')),Object(s.b)("pre",null,Object(s.b)("code",{parentName:"pre"},"+----+-----------+\n| id | name      |\n+====+===========+\n|  1 | 'english' |\n+----+-----------+\n|  2 | '\u4e2d\u56fd\u4eba'     |\n+----+-----------+\n\n+----+-----------+\n| id | name      |\n+====+===========+\n|  1 | 'english' |\n+----+-----------+\n|  2 | '\u4e2d\u56fd\u4eba'     |\n+----+-----------+\n")),Object(s.b)("h3",{id:"pivot-table"},"Pivot Table"),Object(s.b)("pre",null,Object(s.b)("code",{parentName:"pre",className:"language-python",metastring:'script title="Python"',script:!0,title:'"Python"'},'from pprint import pprint\nfrom frictionless import Package, Resource, transform, steps\n\nsource = Resource(path="transform-pivot.csv")\ntarget = transform(\n    source,\n    steps=[\n        steps.table_normalize(),\n        steps.table_pivot(f1="region", f2="gender", f3="units", aggfun=sum),\n    ]\n)\nprint(target.schema)\nprint(target.to_view())\n')),Object(s.b)("pre",null,Object(s.b)("code",{parentName:"pre"},"{'fields': [{'name': 'region', 'type': 'string'},\n            {'name': 'boy', 'type': 'integer'},\n            {'name': 'girl', 'type': 'integer'}]}\n+--------+-----+------+\n| region | boy | girl |\n+========+=====+======+\n| 'east' |  33 |   29 |\n+--------+-----+------+\n| 'west' |  35 |   23 |\n+--------+-----+------+\n")),Object(s.b)("h3",{id:"print-table"},"Print Table"),Object(s.b)("pre",null,Object(s.b)("code",{parentName:"pre",className:"language-python",metastring:'script title="Python"',script:!0,title:'"Python"'},'from pprint import pprint\nfrom frictionless import Package, Resource, transform, steps\n\nsource = Resource(path="transform.csv")\ntarget = transform(\n    source,\n    steps=[\n        steps.table_normalize(),\n        steps.table_print(),\n    ]\n)\n')),Object(s.b)("pre",null,Object(s.b)("code",{parentName:"pre"},"==  =======  ==========\nid  name     population\n==  =======  ==========\n 1  germany          83\n 2  france           66\n 3  spain            47\n==  =======  ==========\n")),Object(s.b)("h3",{id:"recast-table"},"Recast Table"),Object(s.b)("pre",null,Object(s.b)("code",{parentName:"pre",className:"language-python",metastring:'script title="Python"',script:!0,title:'"Python"'},'from pprint import pprint\nfrom frictionless import Package, Resource, transform, steps\n\nsource = Resource(path="transform.csv")\ntarget = transform(\n    source,\n    steps=[\n        steps.table_normalize(),\n        steps.table_melt(field_name="id"),\n        steps.table_recast(field_name="id"),\n    ]\n)\nprint(target.schema)\nprint(target.to_view())\n')),Object(s.b)("pre",null,Object(s.b)("code",{parentName:"pre"},"{'fields': [{'name': 'id', 'type': 'integer'},\n            {'name': 'name', 'type': 'string'},\n            {'name': 'population', 'type': 'integer'}]}\n+----+-----------+------------+\n| id | name      | population |\n+====+===========+============+\n|  1 | 'germany' |         83 |\n+----+-----------+------------+\n|  2 | 'france'  |         66 |\n+----+-----------+------------+\n|  3 | 'spain'   |         47 |\n+----+-----------+------------+\n")),Object(s.b)("h3",{id:"transpose-table"},"Transpose Table"),Object(s.b)("pre",null,Object(s.b)("code",{parentName:"pre",className:"language-python",metastring:'script title="Python"',script:!0,title:'"Python"'},'from pprint import pprint\nfrom frictionless import Package, Resource, transform, steps\n\nsource = Resource(path="transform.csv")\ntarget = transform(\n    source,\n    steps=[\n        steps.table_normalize(),\n        steps.table_transpose(),\n    ]\n)\nprint(target.schema)\nprint(target.to_view())\n')),Object(s.b)("pre",null,Object(s.b)("code",{parentName:"pre"},"{'fields': [{'name': 'name', 'type': 'string'},\n            {'name': 'germany', 'type': 'integer'},\n            {'name': 'france', 'type': 'integer'},\n            {'name': 'spain', 'type': 'integer'}]}\n+--------------+-----------+----------+---------+\n| id           | 1         | 2        | 3       |\n+==============+===========+==========+=========+\n| 'name'       | 'germany' | 'france' | 'spain' |\n+--------------+-----------+----------+---------+\n| 'population' |        83 |       66 |      47 |\n+--------------+-----------+----------+---------+\n")),Object(s.b)("h3",{id:"validate-table"},"Validate Table"),Object(s.b)("pre",null,Object(s.b)("code",{parentName:"pre",className:"language-python",metastring:'script title="Python"',script:!0,title:'"Python"'},'from pprint import pprint\nfrom frictionless import Package, Resource, transform, steps\n\nsource = Resource(path="transform.csv")\ntarget = transform(\n    source,\n    steps=[\n        steps.cell_set(field_name="population", value="bad"),\n        steps.table_validate(),\n    ]\n)\npprint(target.schema)\ntry:\n  pprint(target.to_view())\nexcept Exception as exception:\n  pprint(exception)\n')),Object(s.b)("pre",null,Object(s.b)("code",{parentName:"pre"},"{'fields': [{'name': 'id', 'type': 'integer'},\n            {'name': 'name', 'type': 'string'},\n            {'name': 'population', 'type': 'integer'}]}\nFrictionlessException('[step-error] Step is not valid: \"table_validate\" raises \"[type-error] Type error in the cell \"bad\" in row \"2\" and field \"population\" at position \"3\": type is \"integer/default\"\"')\n")),Object(s.b)("h3",{id:"write-table"},"Write Table"),Object(s.b)("pre",null,Object(s.b)("code",{parentName:"pre",className:"language-python",metastring:'script title="Python"',script:!0,title:'"Python"'},"from pprint import pprint\nfrom frictionless import Package, Resource, transform, steps\n\nsource = Resource(path=\"transform.csv\")\ntarget = transform(\n    source,\n    steps=[\n        steps.table_write(path='tmp/transform.json'),\n    ]\n)\n")),Object(s.b)(i.a,{defaultValue:"cli",values:[{label:"CLI",value:"cli"},{label:"Python",value:"python"}],mdxType:"Tabs"},Object(s.b)(o.a,{value:"cli",mdxType:"TabItem"},Object(s.b)("pre",null,Object(s.b)("code",{parentName:"pre",className:"language-bash",metastring:"script",script:!0},"cat tmp/transform.json\n")),Object(s.b)("pre",null,Object(s.b)("code",{parentName:"pre",className:"language-json",metastring:'title="Data: tmp/transform.json"',title:'"Data:','tmp/transform.json"':!0},'[\n  [\n    "id",\n    "name",\n    "population"\n  ],\n  [\n    1,\n    "germany",\n    83\n  ],\n  [\n    2,\n    "france",\n    66\n  ],\n  [\n    3,\n    "spain",\n    47\n  ]\n]\n'))),Object(s.b)(o.a,{value:"python",mdxType:"TabItem"},Object(s.b)("pre",null,Object(s.b)("code",{parentName:"pre",className:"language-python",metastring:"script",script:!0},"with open('tmp/transform.json') as file:\n    print(file.read())\n")),Object(s.b)("pre",null,Object(s.b)("code",{parentName:"pre",className:"language-json",metastring:'title="Data: tmp/transform.json"',title:'"Data:','tmp/transform.json"':!0},'[\n  [\n    "id",\n    "name",\n    "population"\n  ],\n  [\n    1,\n    "germany",\n    83\n  ],\n  [\n    2,\n    "france",\n    66\n  ],\n  [\n    3,\n    "spain",\n    47\n  ]\n]\n')))),Object(s.b)("h2",{id:"field-steps"},"Field Steps"),Object(s.b)("p",null,"The Field steps are responsible for managing a Table Schema's fields. You can add or remove them along with more complex operations like unpacking."),Object(s.b)("h3",{id:"add-field"},"Add Field"),Object(s.b)("pre",null,Object(s.b)("code",{parentName:"pre",className:"language-python",metastring:'script title="Python"',script:!0,title:'"Python"'},'from pprint import pprint\nfrom frictionless import Package, Resource, transform, steps\n\nsource = Resource(path="transform.csv")\ntarget = transform(\n    source,\n    steps=[\n        steps.field_add(name="note", type="string", value="eu"),\n    ]\n)\nprint(target.schema)\nprint(target.to_view())\n')),Object(s.b)("pre",null,Object(s.b)("code",{parentName:"pre"},"{'fields': [{'name': 'id', 'type': 'integer'},\n            {'name': 'name', 'type': 'string'},\n            {'name': 'population', 'type': 'integer'},\n            {'name': 'note', 'type': 'string'}]}\n+----+-----------+------------+------+\n| id | name      | population | note |\n+====+===========+============+======+\n|  1 | 'germany' |         83 | 'eu' |\n+----+-----------+------------+------+\n|  2 | 'france'  |         66 | 'eu' |\n+----+-----------+------------+------+\n|  3 | 'spain'   |         47 | 'eu' |\n+----+-----------+------------+------+\n")),Object(s.b)("h3",{id:"filter-fields"},"Filter Fields"),Object(s.b)("pre",null,Object(s.b)("code",{parentName:"pre",className:"language-python",metastring:'script title="Python"',script:!0,title:'"Python"'},'from pprint import pprint\nfrom frictionless import Package, Resource, transform, steps\n\nsource = Resource(path="transform.csv")\ntarget = transform(\n    source,\n    steps=[\n        steps.field_filter(names=["id", "name"]),\n    ]\n)\nprint(target.schema)\nprint(target.to_view())\n')),Object(s.b)("pre",null,Object(s.b)("code",{parentName:"pre"},"{'fields': [{'name': 'id', 'type': 'integer'},\n            {'name': 'name', 'type': 'string'}]}\n+----+-----------+\n| id | name      |\n+====+===========+\n|  1 | 'germany' |\n+----+-----------+\n|  2 | 'france'  |\n+----+-----------+\n|  3 | 'spain'   |\n+----+-----------+\n")),Object(s.b)("h3",{id:"move-field"},"Move Field"),Object(s.b)("pre",null,Object(s.b)("code",{parentName:"pre",className:"language-python",metastring:'script title="Python"',script:!0,title:'"Python"'},'from pprint import pprint\nfrom frictionless import Package, Resource, transform, steps\n\nsource = Resource(path="transform.csv")\ntarget = transform(\n    source,\n    steps=[\n        steps.field_move(name="id", position=3),\n    ]\n)\nprint(target.schema)\nprint(target.to_view())\n')),Object(s.b)("pre",null,Object(s.b)("code",{parentName:"pre"},"{'fields': [{'name': 'name', 'type': 'string'},\n            {'name': 'population', 'type': 'integer'},\n            {'name': 'id', 'type': 'integer'}]}\n+-----------+------------+----+\n| name      | population | id |\n+===========+============+====+\n| 'germany' |         83 |  1 |\n+-----------+------------+----+\n| 'france'  |         66 |  2 |\n+-----------+------------+----+\n| 'spain'   |         47 |  3 |\n+-----------+------------+----+\n")),Object(s.b)("h3",{id:"remove-field"},"Remove Field"),Object(s.b)("pre",null,Object(s.b)("code",{parentName:"pre",className:"language-python",metastring:'script title="Python"',script:!0,title:'"Python"'},'from pprint import pprint\nfrom frictionless import Package, Resource, transform, steps\n\nsource = Resource(path="transform.csv")\ntarget = transform(\n    source,\n    steps=[\n        steps.field_remove(names=["id"]),\n    ]\n)\nprint(target.schema)\nprint(target.to_view())\n')),Object(s.b)("pre",null,Object(s.b)("code",{parentName:"pre"},"{'fields': [{'name': 'name', 'type': 'string'},\n            {'name': 'population', 'type': 'integer'}]}\n+-----------+------------+\n| name      | population |\n+===========+============+\n| 'germany' |         83 |\n+-----------+------------+\n| 'france'  |         66 |\n+-----------+------------+\n| 'spain'   |         47 |\n+-----------+------------+\n")),Object(s.b)("h3",{id:"split-field"},"Split Field"),Object(s.b)("pre",null,Object(s.b)("code",{parentName:"pre",className:"language-python",metastring:'script title="Python"',script:!0,title:'"Python"'},'from pprint import pprint\nfrom frictionless import Package, Resource, transform, steps\n\nsource = Resource(path="transform.csv")\ntarget = transform(\n    source,\n    steps=[\n        steps.field_split(name="name", to_names=["name1", "name2"], pattern="a"),\n    ]\n)\nprint(target.schema)\nprint(target.to_view())\n')),Object(s.b)("pre",null,Object(s.b)("code",{parentName:"pre"},"{'fields': [{'name': 'id', 'type': 'integer'},\n            {'name': 'population', 'type': 'integer'},\n            {'name': 'name1', 'type': 'string'},\n            {'name': 'name2', 'type': 'string'}]}\n+----+------------+--------+-------+\n| id | population | name1  | name2 |\n+====+============+========+=======+\n|  1 |         83 | 'germ' | 'ny'  |\n+----+------------+--------+-------+\n|  2 |         66 | 'fr'   | 'nce' |\n+----+------------+--------+-------+\n|  3 |         47 | 'sp'   | 'in'  |\n+----+------------+--------+-------+\n")),Object(s.b)("h3",{id:"unpack-field"},"Unpack Field"),Object(s.b)("pre",null,Object(s.b)("code",{parentName:"pre",className:"language-python",metastring:'script title="Python"',script:!0,title:'"Python"'},'from pprint import pprint\nfrom frictionless import Package, Resource, transform, steps\n\nsource = Resource(path="transform.csv")\ntarget = transform(\n    source,\n    steps=[\n        steps.field_update(name="id", type="array", value=[1, 1]),\n        steps.field_unpack(name="id", to_names=["id2", "id3"]),\n    ]\n)\nprint(target.schema)\nprint(target.to_view())\n')),Object(s.b)("pre",null,Object(s.b)("code",{parentName:"pre"},"{'fields': [{'name': 'name', 'type': 'string'},\n            {'name': 'population', 'type': 'integer'},\n            {'name': 'id2'},\n            {'name': 'id3'}]}\n+-----------+------------+-----+-----+\n| name      | population | id2 | id3 |\n+===========+============+=====+=====+\n| 'germany' |         83 |   1 |   1 |\n+-----------+------------+-----+-----+\n| 'france'  |         66 |   1 |   1 |\n+-----------+------------+-----+-----+\n| 'spain'   |         47 |   1 |   1 |\n+-----------+------------+-----+-----+\n")),Object(s.b)("h3",{id:"update-field"},"Update Field"),Object(s.b)("pre",null,Object(s.b)("code",{parentName:"pre",className:"language-python",metastring:'script title="Python"',script:!0,title:'"Python"'},'from pprint import pprint\nfrom frictionless import Package, Resource, transform, steps\n\nsource = Resource(path="transform.csv")\ntarget = transform(\n    source,\n    steps=[\n        steps.field_update(name="id", type="string", value=str),\n    ]\n)\nprint(target.schema)\nprint(target.to_view())\n')),Object(s.b)("pre",null,Object(s.b)("code",{parentName:"pre"},"{'fields': [{'name': 'id', 'type': 'string'},\n            {'name': 'name', 'type': 'string'},\n            {'name': 'population', 'type': 'integer'}]}\n+------+-----------+------------+\n| id   | name      | population |\n+======+===========+============+\n| None | 'germany' |         83 |\n+------+-----------+------------+\n| None | 'france'  |         66 |\n+------+-----------+------------+\n| None | 'spain'   |         47 |\n+------+-----------+------------+\n")),Object(s.b)("h3",{id:"merge-cells"},"Merge Cells"),Object(s.b)("pre",null,Object(s.b)("code",{parentName:"pre",className:"language-python",metastring:'script title="Python"',script:!0,title:'"Python"'},'from pprint import pprint\nfrom frictionless import Package, Resource, transform, steps\n\nsource = Resource(path="transform.csv")\ntarget = transform(\n     source,\n     steps=[\n         # seperator argument can be used to set delimeter. Default value is \'-\'\n         # preserve argument keeps the original fields\n         steps.field_merge(name="details", from_names=["name", "population"], preserve=True)\n     ],\n)\nprint(target.schema)\nprint(target.to_view())\n')),Object(s.b)("pre",null,Object(s.b)("code",{parentName:"pre"},"{'fields': [{'name': 'id', 'type': 'integer'},\n            {'name': 'name', 'type': 'string'},\n            {'name': 'population', 'type': 'integer'},\n            {'name': 'details', 'type': 'string'}]}\n+----+-----------+------------+--------------+\n| id | name      | population | details      |\n+====+===========+============+==============+\n|  1 | 'germany' |         83 | 'germany-83' |\n+----+-----------+------------+--------------+\n|  2 | 'france'  |         66 | 'france-66'  |\n+----+-----------+------------+--------------+\n|  3 | 'spain'   |         47 | 'spain-47'   |\n+----+-----------+------------+--------------+\n")),Object(s.b)("h3",{id:"pack-cells"},"Pack Cells"),Object(s.b)("pre",null,Object(s.b)("code",{parentName:"pre",className:"language-python",metastring:'script title="Python"',script:!0,title:'"Python"'},'from pprint import pprint\nfrom frictionless import Package, Resource, transform, steps\n\nsource = Resource(path="transform.csv")\ntarget = transform(\n    source,\n    steps=[\n        # field_type returns packed fields as JSON Object. Default value for field_type is \'array\'\n        # preserve argument keeps the original fields\n        steps.field_pack(name="details", from_names=["name", "population"], field_type="object", preserve=True)\n    ]\n)\nprint(target.schema)\nprint(target.to_view())\n')),Object(s.b)("pre",null,Object(s.b)("code",{parentName:"pre"},"{'fields': [{'name': 'id', 'type': 'integer'},\n            {'name': 'name', 'type': 'string'},\n            {'name': 'population', 'type': 'integer'},\n            {'name': 'details', 'type': 'object'}]}\n+----+-----------+------------+-----------------------------------------+\n| id | name      | population | details                                 |\n+====+===========+============+=========================================+\n|  1 | 'germany' |         83 | {'name': 'germany', 'population': '83'} |\n+----+-----------+------------+-----------------------------------------+\n|  2 | 'france'  |         66 | {'name': 'france', 'population': '66'}  |\n+----+-----------+------------+-----------------------------------------+\n|  3 | 'spain'   |         47 | {'name': 'spain', 'population': '47'}   |\n+----+-----------+------------+-----------------------------------------+\n")),Object(s.b)("h2",{id:"row-steps"},"Row Steps"),Object(s.b)("p",null,"These steps are row-based including row filtering, slicing, and many more."),Object(s.b)("h3",{id:"filter-rows"},"Filter Rows"),Object(s.b)("pre",null,Object(s.b)("code",{parentName:"pre",className:"language-python",metastring:'script title="Python"',script:!0,title:'"Python"'},'from pprint import pprint\nfrom frictionless import Package, Resource, transform, steps\n\nsource = Resource(path="transform.csv")\ntarget = transform(\n    source,\n    steps=[\n        steps.table_normalize(),\n        steps.row_filter(formula="id > 1"),\n    ]\n)\nprint(target.schema)\nprint(target.to_view())\n')),Object(s.b)("pre",null,Object(s.b)("code",{parentName:"pre"},"{'fields': [{'name': 'id', 'type': 'integer'},\n            {'name': 'name', 'type': 'string'},\n            {'name': 'population', 'type': 'integer'}]}\n+----+----------+------------+\n| id | name     | population |\n+====+==========+============+\n|  2 | 'france' |         66 |\n+----+----------+------------+\n|  3 | 'spain'  |         47 |\n+----+----------+------------+\n")),Object(s.b)("h3",{id:"search-rows"},"Search Rows"),Object(s.b)("pre",null,Object(s.b)("code",{parentName:"pre",className:"language-python",metastring:'script title="Python"',script:!0,title:'"Python"'},'from pprint import pprint\nfrom frictionless import Package, Resource, transform, steps\n\nsource = Resource(path="transform.csv")\ntarget = transform(\n    source,\n    steps=[\n        steps.row_search(regex=r"^f.*"),\n    ]\n)\nprint(target.schema)\nprint(target.to_view())\n')),Object(s.b)("pre",null,Object(s.b)("code",{parentName:"pre"},"{'fields': [{'name': 'id', 'type': 'integer'},\n            {'name': 'name', 'type': 'string'},\n            {'name': 'population', 'type': 'integer'}]}\n+----+----------+------------+\n| id | name     | population |\n+====+==========+============+\n|  2 | 'france' |         66 |\n+----+----------+------------+\n")),Object(s.b)("h3",{id:"slice-rows"},"Slice Rows"),Object(s.b)("pre",null,Object(s.b)("code",{parentName:"pre",className:"language-python",metastring:'script title="Python"',script:!0,title:'"Python"'},'from pprint import pprint\nfrom frictionless import Package, Resource, transform, steps\n\nsource = Resource(path="transform.csv")\ntarget = transform(\n    source,\n    steps=[\n        steps.row_slice(head=2),\n    ]\n)\nprint(target.schema)\nprint(target.to_view())\n')),Object(s.b)("pre",null,Object(s.b)("code",{parentName:"pre"},"{'fields': [{'name': 'id', 'type': 'integer'},\n            {'name': 'name', 'type': 'string'},\n            {'name': 'population', 'type': 'integer'}]}\n+----+-----------+------------+\n| id | name      | population |\n+====+===========+============+\n|  1 | 'germany' |         83 |\n+----+-----------+------------+\n|  2 | 'france'  |         66 |\n+----+-----------+------------+\n")),Object(s.b)("h3",{id:"sort-rows"},"Sort Rows"),Object(s.b)("pre",null,Object(s.b)("code",{parentName:"pre",className:"language-python",metastring:'script title="Python"',script:!0,title:'"Python"'},'from pprint import pprint\nfrom frictionless import Package, Resource, transform, steps\n\nsource = Resource(path="transform.csv")\ntarget = transform(\n    source,\n    steps=[\n        steps.row_sort(field_names=["name"]),\n    ]\n)\nprint(target.schema)\nprint(target.to_view())\n')),Object(s.b)("pre",null,Object(s.b)("code",{parentName:"pre"},"{'fields': [{'name': 'id', 'type': 'integer'},\n            {'name': 'name', 'type': 'string'},\n            {'name': 'population', 'type': 'integer'}]}\n+----+-----------+------------+\n| id | name      | population |\n+====+===========+============+\n|  2 | 'france'  |         66 |\n+----+-----------+------------+\n|  1 | 'germany' |         83 |\n+----+-----------+------------+\n|  3 | 'spain'   |         47 |\n+----+-----------+------------+\n")),Object(s.b)("h3",{id:"split-rows"},"Split Rows"),Object(s.b)("pre",null,Object(s.b)("code",{parentName:"pre",className:"language-python",metastring:'script title="Python"',script:!0,title:'"Python"'},'from pprint import pprint\nfrom frictionless import Package, Resource, transform, steps\n\nsource = Resource(path="transform.csv")\ntarget = transform(\n    source,\n    steps=[\n        steps.row_split(field_name="name", pattern="a"),\n    ]\n)\nprint(target.schema)\nprint(target.to_view())\n')),Object(s.b)("pre",null,Object(s.b)("code",{parentName:"pre"},"{'fields': [{'name': 'id', 'type': 'integer'},\n            {'name': 'name', 'type': 'string'},\n            {'name': 'population', 'type': 'integer'}]}\n+----+--------+------------+\n| id | name   | population |\n+====+========+============+\n|  1 | 'germ' |         83 |\n+----+--------+------------+\n|  1 | 'ny'   |         83 |\n+----+--------+------------+\n|  2 | 'fr'   |         66 |\n+----+--------+------------+\n|  2 | 'nce'  |         66 |\n+----+--------+------------+\n|  3 | 'sp'   |         47 |\n+----+--------+------------+\n")),Object(s.b)("h3",{id:"subset-rows"},"Subset Rows"),Object(s.b)("pre",null,Object(s.b)("code",{parentName:"pre",className:"language-python",metastring:'script title="Python"',script:!0,title:'"Python"'},'from pprint import pprint\nfrom frictionless import Package, Resource, transform, steps\n\nsource = Resource(path="transform.csv")\ntarget = transform(\n    source,\n    steps=[\n        steps.field_update(name="id", value=1),\n        steps.row_subset(subset="conflicts", field_name="id"),\n    ]\n)\nprint(target.schema)\nprint(target.to_view())\n')),Object(s.b)("pre",null,Object(s.b)("code",{parentName:"pre"},"{'fields': [{'name': 'id', 'type': 'integer'},\n            {'name': 'name', 'type': 'string'},\n            {'name': 'population', 'type': 'integer'}]}\n+----+-----------+------------+\n| id | name      | population |\n+====+===========+============+\n|  1 | 'germany' |         83 |\n+----+-----------+------------+\n|  1 | 'france'  |         66 |\n+----+-----------+------------+\n|  1 | 'spain'   |         47 |\n+----+-----------+------------+\n")),Object(s.b)("h3",{id:"ungroup-rows"},"Ungroup Rows"),Object(s.b)("pre",null,Object(s.b)("code",{parentName:"pre",className:"language-python",metastring:'script title="Python"',script:!0,title:'"Python"'},'from pprint import pprint\nfrom frictionless import Package, Resource, transform, steps\n\nsource = Resource(path="transform-groups.csv")\ntarget = transform(\n    source,\n    steps=[\n        steps.row_ungroup(group_name="name", selection="first"),\n    ]\n)\nprint(target.schema)\nprint(target.to_view())\n')),Object(s.b)("pre",null,Object(s.b)("code",{parentName:"pre"},"{'fields': [{'name': 'id', 'type': 'integer'},\n            {'name': 'name', 'type': 'string'},\n            {'name': 'population', 'type': 'integer'},\n            {'name': 'year', 'type': 'integer'}]}\n+----+-----------+------------+------+\n| id | name      | population | year |\n+====+===========+============+======+\n|  3 | 'france'  |         66 | 2020 |\n+----+-----------+------------+------+\n|  1 | 'germany' |         83 | 2020 |\n+----+-----------+------------+------+\n|  5 | 'spain'   |         47 | 2020 |\n+----+-----------+------------+------+\n")),Object(s.b)("h2",{id:"cell-steps"},"Cell Steps"),Object(s.b)("p",null,"The Cell steps are responsible for cell operations like converting, replacing, or formating, along with others."),Object(s.b)("h3",{id:"convert-cells"},"Convert Cells"),Object(s.b)("pre",null,Object(s.b)("code",{parentName:"pre",className:"language-python",metastring:'script title="Python"',script:!0,title:'"Python"'},'from pprint import pprint\nfrom frictionless import Package, Resource, transform, steps\n\nsource = Resource(path="transform.csv")\ntarget = transform(\n    source,\n    steps=[\n        steps.cell_convert(value="n/a", field_name="name"),\n    ]\n)\nprint(target.schema)\nprint(target.to_view())\n')),Object(s.b)("pre",null,Object(s.b)("code",{parentName:"pre"},"{'fields': [{'name': 'id', 'type': 'integer'},\n            {'name': 'name', 'type': 'string'},\n            {'name': 'population', 'type': 'integer'}]}\n+----+-------+------------+\n| id | name  | population |\n+====+=======+============+\n|  1 | 'n/a' |         83 |\n+----+-------+------------+\n|  2 | 'n/a' |         66 |\n+----+-------+------------+\n|  3 | 'n/a' |         47 |\n+----+-------+------------+\n")),Object(s.b)("h3",{id:"fill-cells"},"Fill Cells"),Object(s.b)("pre",null,Object(s.b)("code",{parentName:"pre",className:"language-python",metastring:'script title="Python"',script:!0,title:'"Python"'},'from pprint import pprint\nfrom frictionless import Package, Resource, transform, steps\n\nsource = Resource(path="transform.csv")\ntarget = transform(\n    source,\n    steps=[\n        steps.cell_replace(pattern="france", replace=None),\n        steps.cell_fill(field_name="name", value="FRANCE"),\n    ]\n)\nprint(target.schema)\nprint(target.to_view())\n')),Object(s.b)("pre",null,Object(s.b)("code",{parentName:"pre"},"{'fields': [{'name': 'id', 'type': 'integer'},\n            {'name': 'name', 'type': 'string'},\n            {'name': 'population', 'type': 'integer'}]}\n+----+-----------+------------+\n| id | name      | population |\n+====+===========+============+\n|  1 | 'germany' |         83 |\n+----+-----------+------------+\n|  2 | 'FRANCE'  |         66 |\n+----+-----------+------------+\n|  3 | 'spain'   |         47 |\n+----+-----------+------------+\n")),Object(s.b)("h3",{id:"format-cells"},"Format Cells"),Object(s.b)("pre",null,Object(s.b)("code",{parentName:"pre",className:"language-python",metastring:'script title="Python"',script:!0,title:'"Python"'},'from pprint import pprint\nfrom frictionless import Package, Resource, transform, steps\n\nsource = Resource(path="transform.csv")\ntarget = transform(\n    source,\n    steps=[\n        steps.cell_format(template="Prefix: {0}", field_name="name"),\n    ]\n)\nprint(target.schema)\nprint(target.to_view())\n')),Object(s.b)("pre",null,Object(s.b)("code",{parentName:"pre"},"{'fields': [{'name': 'id', 'type': 'integer'},\n            {'name': 'name', 'type': 'string'},\n            {'name': 'population', 'type': 'integer'}]}\n+----+-------------------+------------+\n| id | name              | population |\n+====+===================+============+\n|  1 | 'Prefix: germany' |         83 |\n+----+-------------------+------------+\n|  2 | 'Prefix: france'  |         66 |\n+----+-------------------+------------+\n|  3 | 'Prefix: spain'   |         47 |\n+----+-------------------+------------+\n")),Object(s.b)("h3",{id:"interpolate-cells"},"Interpolate Cells"),Object(s.b)("pre",null,Object(s.b)("code",{parentName:"pre",className:"language-python",metastring:'script title="Python"',script:!0,title:'"Python"'},'from pprint import pprint\nfrom frictionless import Package, Resource, transform, steps\n\nsource = Resource(path="transform.csv")\ntarget = transform(\n    source,\n    steps=[\n        steps.cell_interpolate(template="Prefix: %s", field_name="name"),\n    ]\n)\npprint(target.schema)\npprint(target.read_rows())\n')),Object(s.b)("pre",null,Object(s.b)("code",{parentName:"pre"},"{'fields': [{'name': 'id', 'type': 'integer'},\n            {'name': 'name', 'type': 'string'},\n            {'name': 'population', 'type': 'integer'}]}\n[{'id': 1, 'name': 'Prefix: germany', 'population': 83},\n {'id': 2, 'name': 'Prefix: france', 'population': 66},\n {'id': 3, 'name': 'Prefix: spain', 'population': 47}]\n")),Object(s.b)("h3",{id:"replace-cells"},"Replace Cells"),Object(s.b)("pre",null,Object(s.b)("code",{parentName:"pre",className:"language-python",metastring:'script title="Python"',script:!0,title:'"Python"'},'from pprint import pprint\nfrom frictionless import Package, Resource, transform, steps\n\nsource = Resource(path="transform.csv")\ntarget = transform(\n    source,\n    steps=[\n        steps.cell_replace(pattern="france", replace="FRANCE"),\n    ]\n)\nprint(target.schema)\nprint(target.to_view())\n')),Object(s.b)("pre",null,Object(s.b)("code",{parentName:"pre"},"{'fields': [{'name': 'id', 'type': 'integer'},\n            {'name': 'name', 'type': 'string'},\n            {'name': 'population', 'type': 'integer'}]}\n+----+-------------------+------------+\n| id | name              | population |\n+====+===================+============+\n|  1 | 'Prefix: germany' |         83 |\n+----+-------------------+------------+\n|  2 | 'Prefix: france'  |         66 |\n+----+-------------------+------------+\n|  3 | 'Prefix: spain'   |         47 |\n+----+-------------------+------------+\n")),Object(s.b)("h3",{id:"set-cells"},"Set Cells"),Object(s.b)("pre",null,Object(s.b)("code",{parentName:"pre",className:"language-python",metastring:'script title="Python"',script:!0,title:'"Python"'},'from pprint import pprint\nfrom frictionless import Package, Resource, transform, steps\n\nsource = Resource(path="transform.csv")\ntarget = transform(\n    source,\n    steps=[\n          steps.cell_set(field_name="population", value=100),\n    ]\n)\nprint(target.schema)\nprint(target.to_view())\n')),Object(s.b)("pre",null,Object(s.b)("code",{parentName:"pre"},"{'fields': [{'name': 'id', 'type': 'integer'},\n            {'name': 'name', 'type': 'string'},\n            {'name': 'population', 'type': 'integer'}]}\n+----+-----------+------------+\n| id | name      | population |\n+====+===========+============+\n|  1 | 'germany' |        100 |\n+----+-----------+------------+\n|  2 | 'france'  |        100 |\n+----+-----------+------------+\n|  3 | 'spain'   |        100 |\n+----+-----------+------------+\n")))}b.isMDXComponent=!0},161:function(e,n,t){"use strict";t.d(n,"a",(function(){return m})),t.d(n,"b",(function(){return d}));var r=t(0),a=t.n(r);function s(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function i(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function o(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?i(Object(t),!0).forEach((function(n){s(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):i(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function p(e,n){if(null==e)return{};var t,r,a=function(e,n){if(null==e)return{};var t,r,a={},s=Object.keys(e);for(r=0;r<s.length;r++)t=s[r],n.indexOf(t)>=0||(a[t]=e[t]);return a}(e,n);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)t=s[r],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(a[t]=e[t])}return a}var c=a.a.createContext({}),l=function(e){var n=a.a.useContext(c),t=n;return e&&(t="function"==typeof e?e(n):o(o({},n),e)),t},m=function(e){var n=l(e.components);return a.a.createElement(c.Provider,{value:n},e.children)},u={inlineCode:"code",wrapper:function(e){var n=e.children;return a.a.createElement(a.a.Fragment,{},n)}},b=a.a.forwardRef((function(e,n){var t=e.components,r=e.mdxType,s=e.originalType,i=e.parentName,c=p(e,["components","mdxType","originalType","parentName"]),m=l(t),b=r,d=m["".concat(i,".").concat(b)]||m[b]||u[b]||s;return t?a.a.createElement(d,o(o({ref:n},c),{},{components:t})):a.a.createElement(d,o({ref:n},c))}));function d(e,n){var t=arguments,r=n&&n.mdxType;if("string"==typeof e||r){var s=t.length,i=new Array(s);i[0]=b;var o={};for(var p in n)hasOwnProperty.call(n,p)&&(o[p]=n[p]);o.originalType=e,o.mdxType="string"==typeof e?e:r,i[1]=o;for(var c=2;c<s;c++)i[c]=t[c];return a.a.createElement.apply(null,i)}return a.a.createElement.apply(null,t)}b.displayName="MDXCreateElement"},162:function(e,n,t){"use strict";function r(e){var n,t,a="";if("string"==typeof e||"number"==typeof e)a+=e;else if("object"==typeof e)if(Array.isArray(e))for(n=0;n<e.length;n++)e[n]&&(t=r(e[n]))&&(a&&(a+=" "),a+=t);else for(n in e)e[n]&&(a&&(a+=" "),a+=n);return a}n.a=function(){for(var e,n,t=0,a="";t<arguments.length;)(e=arguments[t++])&&(n=r(e))&&(a&&(a+=" "),a+=n);return a}},164:function(e,n,t){"use strict";var r=t(0),a=t(165);n.a=function(){var e=Object(r.useContext)(a.a);if(null==e)throw new Error("`useUserPreferencesContext` is used outside of `Layout` Component.");return e}},165:function(e,n,t){"use strict";var r=t(0),a=Object(r.createContext)(void 0);n.a=a},166:function(e,n,t){"use strict";var r=t(0),a=t.n(r),s=t(164),i=t(162),o=t(57),p=t.n(o);var c=37,l=39;n.a=function(e){var n=e.lazy,t=e.block,o=e.defaultValue,m=e.values,u=e.groupId,b=e.className,d=Object(s.a)(),g=d.tabGroupChoices,f=d.setTabGroupChoices,h=Object(r.useState)(o),y=h[0],v=h[1],j=r.Children.toArray(e.children),O=[];if(null!=u){var N=g[u];null!=N&&N!==y&&m.some((function(e){return e.value===N}))&&v(N)}var P=function(e){var n=e.target,t=O.indexOf(n),r=j[t].props.value;v(r),null!=u&&(f(u,r),setTimeout((function(){var e,t,r,a,s,i,o,c;(e=n.getBoundingClientRect(),t=e.top,r=e.left,a=e.bottom,s=e.right,i=window,o=i.innerHeight,c=i.innerWidth,t>=0&&s<=c&&a<=o&&r>=0)||(n.scrollIntoView({block:"center",behavior:"smooth"}),n.classList.add(p.a.tabItemActive),setTimeout((function(){return n.classList.remove(p.a.tabItemActive)}),2e3))}),150))},w=function(e){var n,t;switch(e.keyCode){case l:var r=O.indexOf(e.target)+1;t=O[r]||O[0];break;case c:var a=O.indexOf(e.target)-1;t=O[a]||O[O.length-1]}null===(n=t)||void 0===n||n.focus()};return a.a.createElement("div",{className:"tabs-container"},a.a.createElement("ul",{role:"tablist","aria-orientation":"horizontal",className:Object(i.a)("tabs",{"tabs--block":t},b)},m.map((function(e){var n=e.value,t=e.label;return a.a.createElement("li",{role:"tab",tabIndex:y===n?0:-1,"aria-selected":y===n,className:Object(i.a)("tabs__item",p.a.tabItem,{"tabs__item--active":y===n}),key:n,ref:function(e){return O.push(e)},onKeyDown:w,onFocus:P,onClick:P},t)}))),n?Object(r.cloneElement)(j.filter((function(e){return e.props.value===y}))[0],{className:"margin-vert--md"}):a.a.createElement("div",{className:"margin-vert--md"},j.map((function(e,n){return Object(r.cloneElement)(e,{key:n,hidden:e.props.value!==y})}))))}},167:function(e,n,t){"use strict";var r=t(0),a=t.n(r);n.a=function(e){var n=e.children,t=e.hidden,r=e.className;return a.a.createElement("div",{role:"tabpanel",hidden:t,className:r},n)}}}]);